docker exec oracle23 createAppUser root admin objerel

CREATE OR REPLACE TYPE DIRECCION AS OBJECT(
    CALLE VARCHAR2(25),
    CIUDAD VARCHAR2(20),
    CODIGO_POST NUMBER(5),
    MEMBER PROCEDURE SET_CALLE(C VARCHAR2),
    MEMBER FUNCTION GET_CALLE RETURN VARCHAR2
);
CREATE OR REPLACE TYPE BODY direccion AS
    MEMBER PROCEDURE set_calle(c VARCHAR2) IS
    BEGIN
        SELF.calle := c;--SELF. en este caso no es necesario
    END;
    MEMBER FUNCTION get_calle RETURN VARCHAR2 IS
    BEGIN
        RETURN calle;
    END;
END;

CREATE OR REPLACE TYPE PERSONA AS OBJECT(
    CODIGO NUMBER,
    NOMBRE VARCHAR2(35),
    DIREC DIRECCION,
    FECHA_NAC DATE,
    MAP MEMBER FUNCTION POR_CODIGO RETURN NUMBER
);

CREATE OR REPLACE TYPE T_ALUMNO AS OBJECT(
    ALUM PERSONA,
    NOTA1 NUMBER,
    NOTA2 NUMBER,
    NOTA3 NUMBER,
    MEMBER FUNCTION media RETURN NUMBER
);
CREATE OR REPLACE
    TYPE BODY T_ALUMNO AS
    MEMBER FUNCTION media RETURN NUMBER AS
    BEGIN
        RETURN ((NOTA1+NOTA2+NOTA3)/3);
    END media;
END;

CREATE TABLE ALUMNOS2 OF T_ALUMNO;

INSERT INTO ALUMNOS2 VALUES(PERSONA(1, 'Antonio Lopez', DIRECCION ('C/Mayor 5','Zaragoza',50001), '22/03/1997'), 5, 8, 6 );
COMMIT;

select A.ALUM.NOMBRE, A.MEDIA() from ALUMNOS2 A;